---
import { Github, Linkedin, Rss, Package, Briefcase, GraduationCap, Award } from '@lucide/astro';
import aboutData from "../data/about.json";

type Platform = {
  id: string;
  title: string;
  description: string;
  icon: string;
  image: string | null;
  borderColor: string;
};

type Experience = {
  role: string;
  organization: string;
  period: string;
  description: string;
};

type SocialLink = {
  type: string;
  label: string;
  url: string;
  color: string;
};

const data = aboutData as {
  title: string;
  introduction: string;
  education: {
    degree: string;
    institution: string;
    status: string;
    minor: string;
  };
  achievements: string[];
  experience: Experience[];
  overview: string;
  platforms: Platform[];
  socialLinks: SocialLink[];
};

// Icon component mapping
const iconMap: Record<string, any> = {
  github: Github,
  linkedin: Linkedin,
  medium: Rss,
  huggingface: Package,
};
---

<section
  id="about"
  class="carousel-item relative w-screen h-screen overflow-hidden"
>
  <!-- Background Image -->
  <div
    class="absolute inset-0 bg-fixed bg-center bg-cover bg-no-repeat"
    style="background-image: url('/designing.jpg');"
    aria-hidden="true"
  ></div>
  
  <!-- Dark overlay -->
  <div
    class="absolute inset-0 bg-black/40 backdrop-blur-sm"
    aria-hidden="true"
  ></div>

  <!-- Scrollable content container -->
  <div class="relative z-10 w-full h-full overflow-y-auto scroll-smooth">
    <div class="px-6 py-12 max-w-7xl mx-auto">
      
      <!-- Header -->
      <h1 class="text-white text-4xl sm:text-5xl lg:text-6xl font-extrabold tracking-tight text-center mb-3 pt-6">
        {data.title}
      </h1>
      
      <!-- Introduction Paragraph -->
      <div class="max-w-4xl mx-auto text-center mb-12">
        <p class="text-base sm:text-lg text-white/90 leading-relaxed font-light">
          {data.introduction}
        </p>
      </div>

      <!-- Divider Line -->
      <div class="w-full h-px bg-white/30 mb-12"></div>

      <!-- Three Column Stats with Hover Gallery -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto mb-12">
        
        <!-- Education Card with Hover Gallery -->
        <div class="card bg-black/40 backdrop-blur-md border border-white/20 shadow-xl hover:shadow-2xl transition-all">
          <figure class="hover-gallery">
            <img src="public/education/iitm.png" alt="IIT Madras" class="w-full h-48 object-cover" />
            <img src="public/education/iitrpr.png" alt="IIT Ropar" class="w-full h-48 object-cover" />
          </figure>
          <div class="card-body text-center p-6">
            <div class="flex justify-center mb-3">
              <GraduationCap size={32} class="text-primary" />
            </div>
            <h3 class="card-title justify-center text-lg font-bold text-white mb-2">Education</h3>
            <p class="text-sm text-white/80">{data.education.degree}</p>
            <p class="text-xs text-white/60 mt-1">{data.education.institution}</p>
            <p class="text-xs text-accent mt-2">{data.education.minor}</p>
          </div>
        </div>
        
        <!-- Experience Card with Hover Gallery -->
        <div class="card bg-black/40 backdrop-blur-md border border-white/20 shadow-xl hover:shadow-2xl transition-all">
          <figure class="hover-gallery">
            <img src="public/expierence/ford.png" alt="Ford Motor Company" class="w-full h-48 object-cover bg-white/10 p-4" />
            <img src="public/expierence/ge.png" alt="GE Aerospace" class="w-full h-48 object-cover bg-white/10 p-4" />
            <img src="public/expierence/iitrps-e.png" alt="IIT Ropar Lab" class="w-full h-48 object-cover bg-white/10 p-4" />
          </figure>
          <div class="card-body text-center p-6">
            <div class="flex justify-center mb-3">
              <Briefcase size={32} class="text-secondary" />
            </div>
            <h3 class="card-title justify-center text-lg font-bold text-white mb-2">Experience</h3>
            <p class="text-sm text-white/80">Ford ‚Ä¢ GE Aerospace ‚Ä¢ DRDO</p>
            <p class="text-xs text-white/60 mt-1">5+ Industry Internships</p>
            <p class="text-xs text-accent mt-2">AI ‚Ä¢ Mechanical ‚Ä¢ Quantum</p>
          </div>
        </div>
        
        <!-- Achievements Card with Hover Gallery -->
        <div class="card bg-black/40 backdrop-blur-md border border-white/20 shadow-xl hover:shadow-2xl transition-all">
          <figure class="hover-gallery">
            <img src="public/achievements/qiskit.png" alt="Qiskit Fall Fest Winner" class="w-full h-48 object-cover" />
            <img src="public/achievements/gssoc-dash.png" alt="GSSoC Rank" class="w-full h-48 object-cover" />
            <img src="public/achievements/hf.png" alt="HuggingFace Downloads" class="w-full h-48 object-cover" />
          </figure>
          <div class="card-body text-center p-6">
            <div class="flex justify-center mb-3">
              <Award size={32} class="text-accent" />
            </div>
            <h3 class="card-title justify-center text-lg font-bold text-white mb-2">Recognition</h3>
            <p class="text-sm text-white/80">Qiskit Fest Winner</p>
            <p class="text-xs text-white/60 mt-1">GSSoC Top 10%</p>
            <p class="text-xs text-accent mt-2">1K+ Dataset Downloads</p>
          </div>
        </div>
      </div>

      <!-- Divider Line -->
      <div class="w-full h-px bg-white/30 mb-12"></div>

      <!-- Professional Experience Timeline -->
      <div class="max-w-4xl mx-auto mb-12">
        <h2 class="text-white text-3xl sm:text-4xl font-extrabold text-center mb-8">Professional Experience</h2>
        <div class="space-y-4">
          {data.experience.map((exp, index) => (
            <div class="card bg-black/40 backdrop-blur-md border border-white/20 shadow-md hover:border-primary/50 hover:shadow-xl transition-all">
              <div class="card-body p-6">
                <div class="flex items-start justify-between gap-4 mb-2">
                  <div>
                    <h3 class="text-lg font-bold text-white">{exp.role}</h3>
                    <p class="text-sm text-primary">{exp.organization}</p>
                  </div>
                  <span class="badge badge-outline badge-sm text-white/60 whitespace-nowrap">{exp.period}</span>
                </div>
                <p class="text-sm text-white/80 leading-relaxed">{exp.description}</p>
              </div>
            </div>
          ))}
        </div>
      </div>

      <!-- Divider Line -->
      <div class="w-full h-px bg-white/30 mb-12"></div>

      <!-- Platforms Section -->
      <h2 class="text-white text-3xl sm:text-4xl lg:text-5xl font-extrabold text-center mb-4">
        Expertise & Platforms
      </h2>
      
      <p class="text-center text-base sm:text-lg text-white/90 mb-10 max-w-4xl mx-auto">
        {data.overview}
      </p>

      <!-- Platform Cards Grid -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto mb-12">
        {data.platforms.map(platform => (
          <div class={`card bg-black/40 backdrop-blur-md border border-white/20 shadow-md hover:border-${platform.borderColor}/50 hover:shadow-xl transition-all hover:scale-105`}>
            <figure class="px-6 pt-6">
              {platform.image ? (
                <img src={platform.image} alt={platform.title} class="rounded-lg w-full h-32 object-cover" />
              ) : (
                <div class={`rounded-lg w-full h-32 bg-gradient-to-br from-${platform.borderColor}/20 to-primary/20 flex items-center justify-center`}>
                  <span class="text-5xl">{platform.icon}</span>
                </div>
              )}
            </figure>
            <div class="card-body items-center text-center p-6">
              <h3 class="card-title text-xl font-bold text-white mb-2">{platform.title}</h3>
              <p class="text-sm text-white/80">
                {platform.description}
              </p>
            </div>
          </div>
        ))}
      </div>

      <!-- Achievements Section -->
      <div class="max-w-4xl mx-auto mb-12">
        <h2 class="text-white text-3xl font-bold text-center mb-6">Key Achievements</h2>
        <div class="card bg-gradient-to-r from-primary/20 via-secondary/20 to-accent/20 backdrop-blur-md border border-white/20 shadow-xl">
          <div class="card-body p-8">
            <div class="space-y-3">
              {data.achievements.map(achievement => (
                <div class="flex items-start gap-3">
                  <Award size={20} class="text-accent mt-1 flex-shrink-0" />
                  <p class="text-white/90">{achievement}</p>
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>

      <!-- Social Links Section -->
      <div class="pt-8 border-t border-white/30 max-w-4xl mx-auto">
        <h3 class="text-xl font-bold text-info mb-4 flex items-center gap-2 justify-center">
          <span>üåê</span> Connect With Me
        </h3>
        <div class="flex flex-wrap gap-4 justify-center">
          {data.socialLinks.map(link => {
            const Icon = iconMap[link.type];
            return (
              <a
                href={link.url}
                target="_blank"
                rel="noopener noreferrer"
                class={`btn btn-outline btn-${link.color} gap-2`}
              >
                {Icon && <Icon size={20} />}
                {link.label}
              </a>
            );
          })}
        </div>
      </div>

    </div>
  </div>
</section>